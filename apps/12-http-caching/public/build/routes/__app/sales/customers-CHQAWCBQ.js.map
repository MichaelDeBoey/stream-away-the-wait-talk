{
  "version": 3,
  "sources": ["browser-route-module:/Users/kentcdodds/Desktop/stream-away-the-wait-talk/apps/12-http-caching/app/routes/__app/sales/customers.tsx?browser", "../../../../../app/routes/__app/sales/customers.tsx"],
  "sourcesContent": ["export { default } from \"/Users/kentcdodds/Desktop/stream-away-the-wait-talk/apps/12-http-caching/app/routes/__app/sales/customers.tsx\";", "import {\n  NavLink,\n  Outlet,\n  useLoaderData,\n  useTransition,\n} from \"@remix-run/react\";\nimport type { LoaderFunction } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { useSpinDelay } from \"spin-delay\";\nimport { CustomerSkeleton, FilePlusIcon } from \"~/components\";\nimport { requireUser } from \"~/session.server\";\nimport { getCustomerListItems } from \"~/models/customer.server\";\n\ntype LoaderData = {\n  customers: Awaited<ReturnType<typeof getCustomerListItems>>;\n};\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  await requireUser(request);\n  return json<LoaderData>({\n    customers: await getCustomerListItems(),\n  });\n};\n\nexport default function Customers() {\n  const { customers } = useLoaderData() as LoaderData;\n  const transition = useTransition();\n\n  let loadingCustomer: typeof customers[number] | undefined;\n\n  if (transition.location?.state) {\n    loadingCustomer = (transition.location?.state as any)?.customer;\n  }\n\n  const showSkeleton = useSpinDelay(Boolean(loadingCustomer), {\n    delay: 200,\n    minDuration: 300,\n  });\n\n  return (\n    <div className=\"flex overflow-hidden rounded-lg border border-gray-100\">\n      <div className=\"w-1/2 border-r border-gray-100\">\n        <NavLink\n          to=\"new\"\n          prefetch=\"intent\"\n          className={({ isActive }) =>\n            \"block border-b-4 border-gray-100 py-3 px-4 hover:bg-gray-50\" +\n            \" \" +\n            (isActive ? \"bg-gray-50\" : \"\")\n          }\n        >\n          <span className=\"flex gap-1\">\n            <FilePlusIcon /> <span>Create new customer</span>\n          </span>\n        </NavLink>\n        <div className=\"max-h-96 overflow-y-scroll\">\n          {customers.map((customer) => (\n            <NavLink\n              key={customer.id}\n              to={customer.id}\n              state={{ customer }}\n              prefetch=\"intent\"\n              className={({ isActive }) =>\n                \"block border-b border-gray-50 py-3 px-4 hover:bg-gray-50\" +\n                \" \" +\n                (isActive ? \"bg-gray-50\" : \"\")\n              }\n            >\n              <div className=\"flex justify-between text-[length:14px] font-bold leading-6\">\n                <div>{customer.name}</div>\n              </div>\n              <div className=\"flex justify-between text-[length:12px] font-medium leading-4 text-gray-400\">\n                <div>{customer.email}</div>\n              </div>\n            </NavLink>\n          ))}\n        </div>\n      </div>\n      <div className=\"flex w-1/2 flex-col justify-between\">\n        {loadingCustomer && showSkeleton ? (\n          <CustomerSkeleton\n            name={loadingCustomer.name}\n            email={loadingCustomer.email}\n          />\n        ) : (\n          <Outlet />\n        )}\n        <small className=\"p-2 text-center\">\n          Note: this is arbitrarily slow to demonstrate pending UI.\n        </small>\n      </div>\n    </div>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;ACAA;AAQA,wBAA6B;AAE7B,qBAA4B;AAC5B,sBAAqC;AAatB,qBAAqB;AAxBpC;AAyBE,QAAM,EAAE,cAAc;AACtB,QAAM,aAAa;AAEnB,MAAI;AAEJ,MAAI,iBAAW,aAAX,mBAAqB,OAAO;AAC9B,sBAAmB,uBAAW,aAAX,mBAAqB,UAArB,mBAAoC;AAAA;AAGzD,QAAM,eAAe,oCAAa,QAAQ,kBAAkB;AAAA,IAC1D,OAAO;AAAA,IACP,aAAa;AAAA;AAGf,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,SAAD;AAAA,IACE,IAAG;AAAA,IACH,UAAS;AAAA,IACT,WAAW,CAAC,EAAE,eACZ,iEAEC,YAAW,eAAe;AAAA,KAG7B,oCAAC,QAAD;AAAA,IAAM,WAAU;AAAA,KACd,oCAAC,cAAD,OAAgB,KAAC,oCAAC,QAAD,MAAM,0BAG3B,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACZ,UAAU,IAAI,CAAC,aACd,oCAAC,SAAD;AAAA,IACE,KAAK,SAAS;AAAA,IACd,IAAI,SAAS;AAAA,IACb,OAAO,EAAE;AAAA,IACT,UAAS;AAAA,IACT,WAAW,CAAC,EAAE,eACZ,8DAEC,YAAW,eAAe;AAAA,KAG7B,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD,MAAM,SAAS,QAEjB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD,MAAM,SAAS,aAMzB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACZ,mBAAmB,eAClB,oCAAC,kBAAD;AAAA,IACE,MAAM,gBAAgB;AAAA,IACtB,OAAO,gBAAgB;AAAA,OAGzB,oCAAC,QAAD,OAEF,oCAAC,SAAD;AAAA,IAAO,WAAU;AAAA,KAAkB;AAAA;",
  "names": []
}
